<div>
    <nav class="navbar navbar-expand-lg navbar navbar-dark bg-primary">
        <div class='container'>
            <router-link to="/" class="navbar-brand">
                Planasaurus
            </router-link>
            <button class="navbar-toggler"
                type="button"
                @click="openNav" 
                data-toggle="collapse"
                data-target="#navbarNav"
                aria-controls="navbarNav"
                aria-expanded="false" 
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div
                :class="{'show': navOpen}"
                class="collapse navbar-collapse"
                id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item" v-if="authenticated">
                        <router-link to="/myq" class="nav-link">
                            My Q
                        </router-link>
                    </li>
                    <li class="nav-item" 
                        v-for="(item, i) in navItems" :key="item.id">
                        <router-link :to="parseUrl(item)" class="nav-link">
                            {{ item.name }}
                        </router-link>
                    </li>
                    <li class="nav-item ml-auto" v-if="authenticated">
                        <router-link to="/dash/configure" class="nav-link">
                            <font-awesome-icon icon="cog" size="lg" class="inline" />
                            Settings
                        </router-link>
                    </li>
                    <li class="nav-item ml-auto" v-if="!authenticated">
                        <router-link to="/login" class="nav-link">
                            <font-awesome-icon icon="sign-in-alt" size="lg" class="inline" />
                            Sign In
                        </router-link>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <nav class="navbar utility-nav navbar-expand-lg navbar-light bg-grey"
            v-if="activeProjectType"
          :class="isSticky ? 'sticky' : ''">
        <div class="container">
            <ul class="navbar-nav">
                <li class="nav-item" v-if="activeList && activeList.list">
                    <div>
                        <button
                            :disabled="prevItem == null"
                            @click="goPrev">
                            <font-awesome-icon icon="angle-left" size="2x"  />
                        </button>
                        <button
                            :disabled="nextItem == null"
                            @click="goNext" >
                            <font-awesome-icon icon="angle-right" size="2x"/>
                        </button>
                    </div>
                    <span v-html="currentItemDisplay"></span>
                </li>
                <li class="nav-item" v-if="activeProjectType">
                    <router-link :to="`/dash/${activeProjectType.codename}/new`" class="nav-link">
                        <font-awesome-icon icon="plus-square" size="2x"/>
                        New {{ activeProjectType ? activeProjectType.name : '' }}
                    </router-link>
                </li>
                <template v-if="viewMode != 'find'">
                    <li class="nav-item">
                        <router-link :to="`/dash/${activeProjectType.codename}/find`" class="nav-link">
                            <font-awesome-icon icon="search" size="2x"/>
                            Search {{ activeProjectType ? activeProjectType.name : '' }}
                        </router-link>
                    </li>
                </template>
                <template v-if="viewMode == 'find'">
                    <li class="nav-item">
                        <button @click="cancelClick" class="nav-link">
                            <font-awesome-icon icon="angle-double-left" size="2x" />
                            Cancel Search
                        </button>
                    </li>
                    <li class="nav-item" >
                        <button @click="searchProjectRecords" class="nav-link">
                            <font-awesome-icon icon="search" size="2x" />
                            Run Search
                        </button>
                    </li>
                </template >
                <li class="nav-item util" 
                    v-if="!layoutEditing">
                    <router-link class="nav-link"
                        :to="layoutUrl">
                        <font-awesome-icon icon="edit" size="2x" />
                        Edit Layout
                    </router-link>
                </li>
                <li class="nav-item util" 
                    v-if="layoutEditing">
                    <button class="nav-link" @click="saveLayout">
                        <font-awesome-icon icon="file-upload" size="2x" />
                        Save Layout
                    </button>
                </li>
            </ul>
        </div>
    </nav>
</div>